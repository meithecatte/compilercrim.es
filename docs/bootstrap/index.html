<!DOCTYPE html>
<html lang="en">
    
        
    
    
        
    
    <head>
        <link rel="stylesheet" href="https://compilercrim.es/style.css?2"/>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
        <title>Bootstrapping</title>
        <link rel="icon" href="https://compilercrim.es/icon.png"/>
        <link rel="canonical" href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;"/>
        <link rel="alternate" type="application/rss+xml" title="compiler crimes :3" href="/rss.xml">
        
<meta property="og:type" content="website">

        <meta property="og:title" content="Bootstrapping">
        
            <meta property="og:description" content="What if all software suddenly disappeared? What&#x27;s the minimum
you&#x27;d need to bootstrap a practical system? I decided to start
with a one sector (512-byte) seed and find out how far I can get.">
        
        <meta property="og:url" content="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;">
        <meta property="og:image" content="https://compilercrim.es/icon.png">
    </head>
    <body class="theme-default">
        <header>
            <div class="main-column">
                <a href="/">
                    <img id="icon" src="/icon.png">
                    <span class="head-backdrop">the blog of compiler crime :3</span>
                </a>
            </div>
        </header>
        <main>
            <article>
                
<h1 class="title">
  Bootstrapping
</h1>

<p class="page-metadata">
A series of 5 articles
</p>


    <p>What if all software suddenly disappeared? What's the minimum
you'd need to bootstrap a practical system? I decided to start
with a one sector (512-byte) seed and find out how far I can get.</p>



<blockquote>
<p><em>Current status:</em> check out the <a href="https://github.com/meithecatte/miniforth?tab=readme-ov-file#miniforth">README of the project</a> on GitHub,
which describes some features that I haven't mentioned here on the blog yet.</p>
<p>Maybe at some point I'll write about the more interesting aspects, like
the text editor and filesystem.</p>
<p>Development of the project itself is on hold, and unlikely to resume.
Turns out Forth encourages leaky abstractions a bit too much, and after
taking a longer break I can no longer page everything back in to the extent
that working on the project would spark joy.</p>
<p>One day, I'll get nerdsniped into another bootstrapping attempt. When that
happens, I'll definitely try to make many small, modular parts, rather than
one big soup where all the internals live in the same namespace.</p>
</blockquote>



  
  <div class="article-preview">
  <h1 class="title"><a href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;miniforth&#x2F;">Fitting a Forth in 512 bytes</a></h1>
  
<p class="page-metadata">
June 10, 2021
&middot; 39 minute read
</p>

  <p>Software is full of circular dependencies if you look deep enough. Compilers
written in the language they compile are the most obvious example, but not the
only one. To compile a kernel, you need a running kernel. Linkers, build
systems, shells.  Even text editors, if you want to write the code instead of
just downloading it. How do you break this cycle? Since the <a href="http://bootstrappable.org/">bootstrapping
problem</a> has first come to my attention, I've been drawn to
this unique area of software engineering.  Not out of fear that someone would
try to implement a <a href="http://users.ece.cmu.edu/%7Eganger/712.fall02/papers/p761-thompson.pdf">trusting trust</a> attack, but simply as an interesting
challenge.  
  <a class="read-more button" href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;miniforth&#x2F;#continue-reading">Read more</a>
  </div>
  
  <div class="article-preview">
  <h1 class="title"><a href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;branches&#x2F;">No branches? No problem â€” a Forth assembler</a></h1>
  
<p class="page-metadata">
June 22, 2021
&middot; 36 minute read
</p>

  <p>The set of words available after Miniforth boots is quite bare-bones. One
reader even <a href="https://www.reddit.com/r/Forth/comments/nxgg20/fitting_a_forth_in_512_bytes/h1eq4ok">claimed</a> that, since there's no branches, it is not
Turing-complete, and therefore not worthy of being called a Forth! Today is the
day we prove them wrong. 
  <a class="read-more button" href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;branches&#x2F;#continue-reading">Read more</a>
  </div>
  
  <div class="article-preview">
  <h1 class="title"><a href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;asmless&#x2F;">Branches: No assembly required</a></h1>
  
<p class="page-metadata">
June 29, 2021
&middot; 7 minute read
</p>

  <p><a href="https://compilercrim.es/bootstrap/branches/">Last time,</a> we started from the barebones <a href="https://compilercrim.es/bootstrap/miniforth/">Miniforth kernel</a>, and
implemented branches by writing additional primitive words in assembly. For
pragmatic reasons, that is the road I will be pursuing further, but I noticed
that it is also possible to implement branches in pure Forth. I believe that
this approach is quite interesting, so let's take a detour and get a closer
look. 
  <a class="read-more button" href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;asmless&#x2F;#continue-reading">Read more</a>
  </div>
  
  <div class="article-preview">
  <h1 class="title"><a href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;throw-catch&#x2F;">How Forth implements exceptions</a></h1>
  
<p class="page-metadata">
September 20, 2021
&middot; 12 minute read
</p>

  <p>Considering Forth's low-level nature, some might consider it surprising how
well-suited it is to handling exceptions. But indeed, ANS Forth does specify a
simple exception handling mechanism. As Forth doesn't have a typesystem capable
of supporting a mechanism like Rust's <code>Result</code>, exceptions are the preferred
error handling strategy. Let's take a closer look at how they're used, and how
they're implemented.  
  <a class="read-more button" href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;throw-catch&#x2F;#continue-reading">Read more</a>
  </div>
  
  <div class="article-preview">
  <h1 class="title"><a href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;exception-context&#x2F;">Contextful exceptions with Forth metaprogramming</a></h1>
  
<p class="page-metadata">
September 20, 2021
&middot; 13 minute read
</p>

  <p>A typical Forth system provides a simple exception handling mechanism, in which
a single integer, that identifies the exception, is thrown. If we end up
catching the exception, this scheme works reasonably well. However, if it
bubbles up to the very top and gets printed to the user, we'd like to show a bit
more context. 
  <a class="read-more button" href="https:&#x2F;&#x2F;compilercrim.es&#x2F;bootstrap&#x2F;exception-context&#x2F;#continue-reading">Read more</a>
  </div>
  




                <center>
                    <p>
                        Fedi: <a href="https://donotsta.re/mei">@mei@donotsta.re</a>
                        &bull;
                        GitHub: <a href="https://github.com/meithecatte">@meithecatte</a>
                        &bull;
                        E-mail: catch-all on this domain
                    </p>

                    <a href="https://diyhrt.wiki">
                        <img src="/e2.gif" width="88" height="31" />
                    </a>
                </center>
            </article>
             
        </main>
    </body>
    <script type="text/javascript" src="/enhance.js" async></script>
    <script data-goatcounter="https://niedzejkob.goatcounter.com/count" async src="https://compilercrim.es/count.js"></script>
</html>
